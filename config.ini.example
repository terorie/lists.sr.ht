#
# lists.sr.ht config

[server]
#
# Specifies the protocol (usually http or https) meta.sr.ht runs with.
protocol=http
#
# Specifies the domain name lists.sr.ht is running on.
domain=lists.sr.ht.local
#
# A secret key to encrypt session cookies with.
secret-key=CHANGEME

[debug]
#
# Address and port to bind the debug server to.
debug-host=0.0.0.0
debug-port=5006

[sr.ht]
#
# Configures the SQLAlchemy connection string for the database.
connection-string=postgresql://postgres@localhost/lists.sr.ht
#
# The name of your network of sr.ht-based sites
site-name=sr.ht

[mail]
#
# SMTP settings for outgoing mail
smtp-host=CHANGEME
smtp-port=CHANGEME
smtp-user=CHANGEME
smtp-password=CHANGEME

[network]
#
# Location of other sites in your network
#
# This isn't a hardcoded list, add or remove entries as you like. The upstream
# sites do know about each other and will omit integrations if you leave out
# the relevant site. Only meta is required.
meta=http://meta.sr.ht.local
git=http://git.sr.ht.local
builds=http://builds.sr.ht.local
lists=http://lists.sr.ht.local
todo=http://todo.sr.ht.local
man=http://man.sr.ht.local
dispatch=http://dispatch.sr.ht.local

[meta.sr.ht]
oauth-client-id=3312905beddc2b3f
oauth-client-secret=07cc502b5097808f30a9098925b45acb

[lists]
#
# The domain that incoming email should be sent to. Forward mail sent here to
# the LTMP socket.
posting-domain=lists.localhost.localdomain
#
# Path for the lmtp daemon's unix socket. Direct incoming mail to this socket.
sock=/tmp/lists.sr.ht-lmtp.sock
#
# The lmtp daemon will make the unix socket group-read/write for users in this
# group.
sock-group=postfix
#
# Comma-delimited list of Content-Types to permit. Messages with Content-Types
# not included in this list are rejected. Multipart messages are always
# supported, and each part is checked against this list.
#
# Uses fnmatch for wildcard expansion.
permit-mimetypes=text/*,application/pgp-signature
#
# Comma-delimited list of Content-Types to reject. Messages with Content-Types
# included in this list are rejected. Multipart messages are always supported,
# and each part is checked against this list.
#
# Uses fnmatch for wildcard expansion.
reject-mimetypes=text/html
#
# Link to include in the rejection message where senders can get help
# correcting their email.
reject-url=https://man.sr.ht/lists.sr.ht/how-to-send.md
#
# Redis instance used by celery for dispatching email blast tasks
redis=redis://localhost:6379/0
